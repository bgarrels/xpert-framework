<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="/template/mainTemplate.xhtml"
                 xmlns:xc="http://java.sun.com/jsf/composite/xpert/components"

                 xmlns:x="http://xpert.com/faces">
    <ui:param name="title" value="Find All Bean" />
    <ui:define name="body">

        <div class="description">
            #{msg['initializer.description']}
        </div>

        <h:form>
            <p:panel header="#{msg['initializer.combo']}">
                <h:panelGrid columns="2">

                    <h:outputLabel value="#{msg['country']}:" />
                    <h:selectOneMenu value="#{viewScope.country}" converter="entityConverter" >
                        <f:selectItem itemLabel="" />
                        <f:selectItems value="#{findAllBean.get(classMB.country)}" var="country" itemLabel="#{country.name}" />
                    </h:selectOneMenu>

                </h:panelGrid>
            </p:panel>
            <p:spacer height="3"/>
            <p:panel header="#{msg['initializer.combo']}">
                <h:panelGrid columns="2">

                    <p:dataTable value="#{findAllBean.get(classMB.state)}" var="state">
                        <p:column headerText="#{msg['state']}">
                            <h:outputText value="#{state.name}"/>
                        </p:column>
                        <p:column headerText="#{msg['country']}" filterBy="#{state.country.id}" 
                                  filterOptions="#{findAllBean.getSelect(classMB.country)}">
                            <h:outputText value="#{state.country.name}"/>
                        </p:column>
                    </p:dataTable>

                </h:panelGrid>
            </p:panel>
        </h:form>
        <p:spacer height="3"/>
        <h3>Source</h3>
        <p:tabView>
            <p:tab title="initializer.xhtml">
                <pre name="code" class="xml">
                &lt;h:panelGroup id=&quot;panelFormPerson&quot;&gt;

                    &lt;h:form&gt;

                        &lt;p:dataTable id=&quot;dataTablePerson&quot; 
                                    paginator=&quot;true&quot; rows=&quot;5&quot;
                                    var=&quot;person&quot; value=&quot;\#{personMB.dataModel}&quot;&gt;
                            &lt;p:column headerText=&quot;\#{msg['person.name']}&quot; sortBy=&quot;\#{person.name}&quot; filterBy=&quot;\#{person.name}&quot;&gt;
                                &lt;h:outputText value=&quot;\#{person.name}&quot;/&gt;
                            &lt;/p:column&gt;
                            &lt;p:column headerText=&quot;\#{msg['person.cpf']}&quot; 
                                    sortBy=&quot;\#{person.cpf}&quot; filterBy=&quot;\#{person.cpf}&quot;&gt;
                                &lt;h:outputText value=&quot;\#{person.cpf}&quot;/&gt;
                            &lt;/p:column&gt;
                            &lt;p:column headerText=&quot;\#{msg['person.code']}&quot; sortBy=&quot;\#{person.code}&quot; filterBy=&quot;\#{person.code}&quot;&gt;
                                &lt;h:outputText value=&quot;\#{person.code}&quot;/&gt;
                            &lt;/p:column&gt;
                            &lt;p:column headerText=&quot;\#{msg['person.group']}&quot; sortBy=&quot;\#{person.group.description}&quot; filterBy=&quot;\#{person.group.description}&quot;&gt;
                            &lt;h:outputText value=&quot;\#{person.group.description}&quot;&gt;
                                &lt;x:initializer/&gt;
                            &lt;/h:outputText&gt;
                            &lt;/p:column&gt;
                            &lt;p:column style=&quot;text-align: center;&quot;&gt;
                                &lt;p:commandButton oncomplete=&quot;widgetPersonDetail.show();&quot;  icon=&quot;ui-icon-zoomin&quot; process=&quot;@this&quot; update=&quot;:panelPersonDetail&quot; &gt;
                                    &lt;f:setPropertyActionListener value=&quot;\#{person}&quot; target=&quot;\#{personMB.entity}&quot; /&gt;
                                &lt;/p:commandButton&gt;
                            &lt;/p:column&gt;

                        &lt;/p:dataTable&gt;


                    &lt;/h:form&gt;
                &lt;/h:panelGroup&gt;

                &lt;p:dialog widgetVar=&quot;widgetPersonDetail&quot; header=&quot;Detalhe Person&quot; appendToBody=&quot;true&quot; modal=&quot;true&quot; width=&quot;600&quot;&gt;
                    &lt;h:panelGroup id=&quot;panelPersonDetail&quot;&gt;
                        &lt;h:form&gt;
                            &lt;h:panelGrid columns=&quot;2&quot; style=&quot;width: 450px;&quot; &gt;

                                &lt;h:outputLabel value=&quot;\#{msg['person.name']}:&quot; /&gt;
                                &lt;h:outputText value=&quot;\#{personMB.entity.name}&quot;/&gt;

                                &lt;h:outputLabel value=&quot;\#{msg['group.statusGroup']}:&quot; /&gt;
                                &lt;h:outputText value=&quot;\#{personMB.entity.group.statusGroup.description}&quot; &gt;
                                    &lt;x:initializer/&gt;
                                &lt;/h:outputText&gt;

                                &lt;h:outputLabel value=&quot;\#{msg['person.grupo']}:&quot; /&gt;
                                &lt;h:outputText value=&quot;\#{personMB.entity.group.description}&quot; /&gt;

                                &lt;h:outputLabel value=&quot;\#{msg['person.permissions']}:&quot; /&gt;
                                &lt;p:dataTable var=&quot;permissao&quot; value=&quot;\#{personMB.entity.permissions}&quot;&gt;
                                    &lt;x:initializer/&gt;
                                    &lt;p:column headerText=&quot;\#{msg['id']}&quot;&gt;
                                        &lt;h:outputText value=&quot;\#{permissao.id}&quot; /&gt;
                                    &lt;/p:column&gt;
                                    &lt;p:column headerText=&quot;\#{msg['permission.description']}&quot;&gt;
                                        &lt;h:outputText value=&quot;\#{permissao.description}&quot; /&gt;
                                    &lt;/p:column&gt;
                                &lt;/p:dataTable&gt;

                            &lt;/h:panelGrid&gt;
                        &lt;/h:form&gt;
                    &lt;/h:panelGroup&gt;
                &lt;/p:dialog&gt;

                </pre>
            </p:tab>
            <ui:include src="/views/common/java/person.xhtml"/>
            <p:tab title="Configuration">
                <ui:include src="/views/common/java/entityManagerFactory.xhtml"/>
            </p:tab>
        </p:tabView>

    </ui:define>
</ui:composition>
